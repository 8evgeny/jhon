# Структура репозитория

## complex
Все проекты, которые используются только на вычислителях комплекса. Собирается на всех платформах, только на Linux.

## desktop
Проекты для запуска на компьютерах управления комплексами. Собирается на всех платформах и на всех ОС.

## middleware
Проекты, обеспечивающие связь между комплексами и центральным сервером. Собирается на всех платформах, только на Linux.

## shared
Библиотеки, которые используются в нескольких разделах. Собираются на всех платформах и всех ОС.

## utils
Скрипты и дополнительные файлы для CI/CD, компиляции и других служебных целей.

# Список проектов репозитория
Список проектов в алфавитном порядке

## Calibration client
### Описание
GUI приложение, для управления и получения результатов калибровок на комплексе. Запускает `Calibration client` на комплексе.
Воспроизводит видеопоток с помощью ffmpeg. Позволяет выполнять калибровку высоты и углов камеры с помощью баннера (с маркером OpenCV).
Позволяет вручную управлять движением линз фокусировки и приближения, диафрагмой, усилением и временем выдержки камеры.

### Расположение в репозитории
`desktop/calibration_client`

### Зависимости
+ `amqp-cpp`
+ `amqp-sender` Виталия
+ `commons` Виталия
+ `Qt` v. 5.11
+ `Boost`

## Calibration server
### Описание
Приложение для настроек и калибровок. Пробрасывает видеопоток с камеры через ffmpeg. Умеет распознавать маркер OpenCV. Умеет вращать моторы, подключенные к ObjecticveDriver под управлением клиента или самостоятельно. Запускается через Calibration client и работает только в паре с ним.

### Расположение в репозитории
`complex/calibration_server`

### Зависимости
+ `amqp-cpp`
+ `amqp-sender` Виталия
+ `commons` Виталия
+ `inih`
+ `libwdclient` Сергея
+ `Boost`
+ `OpenCV`

## Lanes setup
### Описание
Приложение, задающее радару 2 прямоугольные области и 6 сплайнов. Параметры областей захардкожены. Сообщения для задания сплайнов взяты из TMC Configurator.

### Расположение в репозитории
`shared/radar/lanes_setup`

### Зависимости
+ `Radar lib`


## Light control modbus app
### Описание
Приложение для управления яркостью освещения через контроллер, управляемый по протоколу Modbus.
Содержит библиотеку и графический интерфейс.

### Расположение в репозитории
`desktop/light-control-modbus-app`

### Зависимости
+ `libmodbus` v. 3.1.4
+ `Qt` v. 5.11

## Radar configurator
### Описание
Приложение, позволяющее задать высоту и углы радара.

### Расположение в репозитории
`shared/radar/radar_configurator`

### Зависимости
+ `Radar lib`

## Radar lib
### Описание
Библиотека работы с радаром.

### Расположение в репозитории
`shared/radar/radar_lib`

### Зависимости
+ `pthread`
+ `boost`

## Smartmicro test
### Описание
Приложение для чтения сообщений о найденных целях радара. Выводит в консоль полученные сообщения в бинарном и распознанном виде.

### Расположение в репозитории
`shared/radar/radar_configurator`

### Зависимости
+ `Radar lib`

## Homography
### Описание
Обёртка над функцией переноса точек с одной плоскости на другую плоскость с помощью матрицы, связывающей системы координат этих плоскостей.

### Расположение в репозитории
`shared/homography`

### Зависимости
+ `OpenCV`

## Coordinates translator
### Описание
Библиотека, позволяющая переносить точки из радарной системы координат (метры) в систему координат изображения (пиксели). Для переноса точек необходимо знать матрицу перехода, связывающую эти системы координат.

### Расположение в репозитории
`shared/coordinates_translator`

### Зависимости
+ `OpenCV`
+ `homography`

## shoot_consumer
### Описание
Получатель данных с комплекса shoot версии. Полученные данные скаладываеются в базу данных.

### Расположение в репозитории
`middleware/shoot_consumer`

### Зависимости
+ `amqp`
+ `Boost::program_options`
+ `commons`
+ `postgresql_repository`

## match
### Описание
Совмещает траектории радара и номера в базе заполненной shoot_consumer. Формирует проезды.

### Расположение в репозитории
`middleware/solver`

### Зависимости
+ `commons`
+ `postgresql_repository`
+ `Boost::program_options`
+ `trajectories_matcher`

## solver
### Описание
Проверят были ли нарушения ПДД в зафиксированных проездах. И формируют необходимую доказательную базу.

### Раcположение в репозитории
`middleware/solver`

### Зависисмости
+ `collage_creator`
+ `postgresql_repository`
+ `Boost::program_options`


## radar_display
### Описание
GUI приложение, для получения и отображения данных(целей) с радара.
Позволяет отправлять команды радару, а также отправлять и получать настройки радара(высота подвеса и углы). 


### Раcположение в репозитории
`desktop/radar_display`

### Зависисмости
+ `Boost::system`
+ `sadko::radar`
+ `Qt5::Core`
+ `Qt5::Widgets`

















# jhon
